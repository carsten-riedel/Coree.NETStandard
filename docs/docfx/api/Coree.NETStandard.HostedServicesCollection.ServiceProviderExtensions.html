<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html translate="no">

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <meta name="google" content="notranslate">
      <title>Class ServiceProviderExtensions
 | Coree.NETStandard </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Class ServiceProviderExtensions
 | Coree.NETStandard ">
    
      <link rel="shortcut icon" href="../favicon.ico">
      <link rel="stylesheet" href="../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../styles/docfx.css">
      <link rel="stylesheet" href="../styles/main.css">
      <meta property="docfx:navrel" content="../toc.json">
      <meta property="docfx:tocrel" content="toc.json">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="Coree.NETStandard">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>

                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../docs/introduction.html" title="Docs">Docs</a>
                      </li>
                      <li>
                          <a href="../api/Coree.NETStandard.Abstractions.html" title="API">API</a>
                      </li>
                </ul>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container-fluid body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">

                  <ul class="nav level1">
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.Abstractions.html" title="Coree.NETStandard.Abstractions" class="">Coree.NETStandard.Abstractions</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.Abstractions.DependencySingleton-1.html" title="DependencySingleton&lt;T&gt;" class="">DependencySingleton&lt;T&gt;</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Abstractions.FluentBase.html" title="FluentBase" class="">FluentBase</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Abstractions.IFluentBase.html" title="IFluentBase" class="">IFluentBase</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.Classes.html" title="Coree.NETStandard.Classes" class="">Coree.NETStandard.Classes</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.Classes.ThreadSafeCollection-1.html" title="ThreadSafeCollection&lt;T&gt;" class="">ThreadSafeCollection&lt;T&gt;</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Classes.ThreadSafeValue-1.html" title="ThreadSafeValue&lt;T&gt;" class="">ThreadSafeValue&lt;T&gt;</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.CoreeHttpClient.html" title="Coree.NETStandard.CoreeHttpClient" class="">Coree.NETStandard.CoreeHttpClient</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.CoreeHttpClient.html" title="CoreeHttpClient" class="">CoreeHttpClient</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.CoreeHttpClient2.html" title="CoreeHttpClient2" class="">CoreeHttpClient2</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.HttpHeadersExtensions.html" title="HttpHeadersExtensions" class="">HttpHeadersExtensions</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.HttpRequestHeadersExtensions.html" title="HttpRequestHeadersExtensions" class="">HttpRequestHeadersExtensions</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.HttpResponseResult.html" title="HttpResponseResult" class="">HttpResponseResult</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.HttpResponseResult.OperationStatus.html" title="HttpResponseResult.OperationStatus" class="">HttpResponseResult.OperationStatus</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.HttpResponseResult2.html" title="HttpResponseResult2" class="">HttpResponseResult2</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.HttpResponseResult2.OperationStatus.html" title="HttpResponseResult2.OperationStatus" class="">HttpResponseResult2.OperationStatus</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.ICoreeHttpClient.html" title="ICoreeHttpClient" class="">ICoreeHttpClient</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.Product.html" title="Product" class="">Product</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.ProductExtensions.html" title="ProductExtensions" class="">ProductExtensions</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.RequestContentBuilder.html" title="RequestContentBuilder" class="">RequestContentBuilder</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.RequestParamBuilder.html" title="RequestParamBuilder" class="">RequestParamBuilder</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.ServiceCollectionExtensions.html" title="ServiceCollectionExtensions" class="">ServiceCollectionExtensions</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.CoreeHttpClient.UriExtensions.html" title="UriExtensions" class="">UriExtensions</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.Extensions.html" title="Coree.NETStandard.Extensions" class="">Coree.NETStandard.Extensions</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.Extensions.CancellationTokenExtensions.html" title="CancellationTokenExtensions" class="">CancellationTokenExtensions</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Extensions.HostApplicationBuilderExtensions.html" title="HostApplicationBuilderExtensions" class="">HostApplicationBuilderExtensions</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Extensions.ServiceProviderExtensions.html" title="ServiceProviderExtensions" class="">ServiceProviderExtensions</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.Extensions.Bool.html" title="Coree.NETStandard.Extensions.Bool" class="">Coree.NETStandard.Extensions.Bool</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.Extensions.Bool.BoolExtensions.html" title="BoolExtensions" class="">BoolExtensions</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.Extensions.Enumerable.html" title="Coree.NETStandard.Extensions.Enumerable" class="">Coree.NETStandard.Extensions.Enumerable</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.Extensions.Enumerable.EnumerableExtension.html" title="EnumerableExtension" class="">EnumerableExtension</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.Extensions.Stringbuilder.html" title="Coree.NETStandard.Extensions.Stringbuilder" class="">Coree.NETStandard.Extensions.Stringbuilder</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.Extensions.Stringbuilder.StringBuilderExtension.html" title="StringBuilderExtension" class="">StringBuilderExtension</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.Extensions.Strings.html" title="Coree.NETStandard.Extensions.Strings" class="">Coree.NETStandard.Extensions.Strings</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.Extensions.Strings.StringExtensions.html" title="StringExtensions" class="">StringExtensions</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.HostedServicesCollection.html" title="Coree.NETStandard.HostedServicesCollection" class="">Coree.NETStandard.HostedServicesCollection</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.HostedServicesCollection.HostedServicesCollectionConfig-1.html" title="HostedServicesCollectionConfig&lt;T&gt;" class="">HostedServicesCollectionConfig&lt;T&gt;</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.HostedServicesCollection.IHostedServicesCollectionConfig-1.html" title="IHostedServicesCollectionConfig&lt;T&gt;" class="">IHostedServicesCollectionConfig&lt;T&gt;</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.HostedServicesCollection.ServiceCollectionExtensions.html" title="ServiceCollectionExtensions" class="">ServiceCollectionExtensions</a>
                          </li>
                          <li class="active">
                            <a href="Coree.NETStandard.HostedServicesCollection.ServiceProviderExtensions.html" title="ServiceProviderExtensions" class="active">ServiceProviderExtensions</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.Serilog.html" title="Coree.NETStandard.Serilog" class="">Coree.NETStandard.Serilog</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.Serilog.ConditionalLevelSink.html" title="ConditionalLevelSink" class="">ConditionalLevelSink</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Serilog.LoggerSinkConfigurationExtensions.html" title="LoggerSinkConfigurationExtensions" class="">LoggerSinkConfigurationExtensions</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Serilog.OutputTemplates.html" title="OutputTemplates" class="">OutputTemplates</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Serilog.ServiceCollectionExtensions.html" title="ServiceCollectionExtensions" class="">ServiceCollectionExtensions</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Serilog.SourceContextShortEnricher.html" title="SourceContextShortEnricher" class="">SourceContextShortEnricher</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.Services.html" title="Coree.NETStandard.Services" class="">Coree.NETStandard.Services</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.Services.FileService.html" title="FileService" class="">FileService</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Services.IFileService.html" title="IFileService" class="">IFileService</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Services.IProcessService.html" title="IProcessService" class="">IProcessService</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Services.IRuntimeInsights.html" title="IRuntimeInsights" class="">IRuntimeInsights</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Services.ProcessRunExitCodeState.html" title="ProcessRunExitCodeState" class="">ProcessRunExitCodeState</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Services.ProcessRunResult.html" title="ProcessRunResult" class="">ProcessRunResult</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Services.ProcessService.html" title="ProcessService" class="">ProcessService</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Services.RuntimeInsightsService.html" title="RuntimeInsightsService" class="">RuntimeInsightsService</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.Services.RuntimeInsights.html" title="Coree.NETStandard.Services.RuntimeInsights" class="">Coree.NETStandard.Services.RuntimeInsights</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.Services.RuntimeInsights.IRuntimeInsightsService.html" title="IRuntimeInsightsService" class="">IRuntimeInsightsService</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.Services.RuntimeInsights.RuntimeInsightsService.html" title="RuntimeInsightsService" class="">RuntimeInsightsService</a>
                          </li>
                        </ul>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="Coree.NETStandard.SpectreConsole.html" title="Coree.NETStandard.SpectreConsole" class="">Coree.NETStandard.SpectreConsole</a>

                        <ul class="nav level2">
                          <li class="">
                            <a href="Coree.NETStandard.SpectreConsole.CommandAppExtensions.html" title="CommandAppExtensions" class="">CommandAppExtensions</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.SpectreConsole.HostBuilderExtensions.html" title="HostBuilderExtensions" class="">HostBuilderExtensions</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.SpectreConsole.ServiceCollectionExtensions.html" title="ServiceCollectionExtensions" class="">ServiceCollectionExtensions</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.SpectreConsole.SpectreConsoleHostedService.html" title="SpectreConsoleHostedService" class="">SpectreConsoleHostedService</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.SpectreConsole.SpectreConsoleHostedService.ExitCode.html" title="SpectreConsoleHostedService.ExitCode" class="">SpectreConsoleHostedService.ExitCode</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.SpectreConsole.SpectreConsoleTypeRegistrar.html" title="SpectreConsoleTypeRegistrar" class="">SpectreConsoleTypeRegistrar</a>
                          </li>
                          <li class="">
                            <a href="Coree.NETStandard.SpectreConsole.SpectreConsoleTypeResolver.html" title="SpectreConsoleTypeResolver" class="">SpectreConsoleTypeResolver</a>
                          </li>
                        </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Coree.NETStandard.HostedServicesCollection.ServiceProviderExtensions">



  <h1 id="Coree_NETStandard_HostedServicesCollection_ServiceProviderExtensions" data-uid="Coree.NETStandard.HostedServicesCollection.ServiceProviderExtensions" class="text-break">Class ServiceProviderExtensions
</h1>
  <div class="markdown level0 summary"><p>Provides a set of extension methods for <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.iserviceprovider">IServiceProvider</a>. These methods extend the functionality
of <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.iserviceprovider">IServiceProvider</a> to offer enhanced and simplified service resolution capabilities,
enabling the retrieval and management of service instances in a more flexible manner.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Coree.html">Coree</a>.<a class="xref" href="Coree.NETStandard.html">NETStandard</a>.<a class="xref" href="Coree.NETStandard.HostedServicesCollection.html">HostedServicesCollection</a></h6>
  <h6><strong>Assembly</strong>: Coree.NETStandard.dll</h6>
  <h5 id="Coree_NETStandard_HostedServicesCollection_ServiceProviderExtensions_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static class ServiceProviderExtensions</code></pre>
  </div>
  <h3 id="methods">Methods
</h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/carsten-riedel/Coree.NETStandard/new/master/apiSpec/new?filename=Coree_NETStandard_HostedServicesCollection_ServiceProviderExtensions_GetHostedServiceCollectionOfTypeLazy__1_System_IServiceProvider_.md&amp;value=---%0Auid%3A%20Coree.NETStandard.HostedServicesCollection.ServiceProviderExtensions.GetHostedServiceCollectionOfTypeLazy%60%601(System.IServiceProvider)%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Edit this page</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/carsten-riedel/Coree.NETStandard/blob/master/src/Projects/Coree.NETStandard/HostedServicesCollection/ServiceProviderExtensions.cs/#L66">View Source</a>
  </span>
  <a id="Coree_NETStandard_HostedServicesCollection_ServiceProviderExtensions_GetHostedServiceCollectionOfTypeLazy_" data-uid="Coree.NETStandard.HostedServicesCollection.ServiceProviderExtensions.GetHostedServiceCollectionOfTypeLazy*"></a>
  <h4 id="Coree_NETStandard_HostedServicesCollection_ServiceProviderExtensions_GetHostedServiceCollectionOfTypeLazy__1_System_IServiceProvider_" data-uid="Coree.NETStandard.HostedServicesCollection.ServiceProviderExtensions.GetHostedServiceCollectionOfTypeLazy``1(System.IServiceProvider)">GetHostedServiceCollectionOfTypeLazy&lt;T&gt;(IServiceProvider)</h4>
  <div class="markdown level1 summary"><p>Provides a lazy-initialized collection of hosted services of the specified type <code class="typeparamref">T</code>,
designed to be used in scenarios where direct service resolution in constructors may lead to race conditions.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="declaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static Lazy&lt;IEnumerable&lt;T&gt;&gt; GetHostedServiceCollectionOfTypeLazy&lt;T&gt;(this IServiceProvider serviceProvider)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.iserviceprovider">IServiceProvider</a></td>
        <td><span class="parametername">serviceProvider</span></td>
        <td><p>The <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.iserviceprovider">IServiceProvider</a> from which to retrieve the services.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.lazy-1">Lazy</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1">IEnumerable</a>&lt;T&gt;&gt;</td>
        <td><p>A <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.lazy-1">Lazy&lt;T&gt;</a> object that, when evaluated, provides an <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.ienumerable-1">IEnumerable&lt;T&gt;</a> representing
the collection of services of the specified type <code class="typeparamref">T</code>. If no services of the specified
type are registered, an empty enumerable is returned. This allows safe and deferred resolution of services,
ideal for use within method implementations to avoid race conditions in service stacks.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="typeParameters">Type Parameters</h5>
  <table class="table table-bordered table-condensed">
    <thead>
      <tr>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="parametername">T</span></td>
        <td><p>The type of the hosted service to retrieve. This type parameter is contravariant.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Coree_NETStandard_HostedServicesCollection_ServiceProviderExtensions_GetHostedServiceCollectionOfTypeLazy__1_System_IServiceProvider__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>This method is particularly useful in complex dependency scenarios, where some services may not be fully
initialized at the time of a constructor's execution. By deferring the service resolution to the actual
execution time of a method, it mitigates the risk of encountering race conditions within the service
initialization stack. It leverages <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.lazy-1">Lazy&lt;T&gt;</a> to ensure that the service collection is resolved
only when it is first needed, thereby enhancing reliability and performance by avoiding unnecessary upfront
service resolution and instantiation.</p>
</div>
  <h5 id="Coree_NETStandard_HostedServicesCollection_ServiceProviderExtensions_GetHostedServiceCollectionOfTypeLazy__1_System_IServiceProvider__examples">Examples</h5>
  <p>This example demonstrates using <a class="xref" href="Coree.NETStandard.HostedServicesCollection.ServiceProviderExtensions.html#Coree_NETStandard_HostedServicesCollection_ServiceProviderExtensions_GetHostedServiceCollectionOfTypeLazy__1_System_IServiceProvider_">GetHostedServiceCollectionOfTypeLazy&lt;T&gt;(IServiceProvider)</a> within a service constructor
to defer the resolution of dependent services, mitigating race conditions:</p>
<pre><code class="lang-csharp">public class MyService :BackgroundService
{
    private readonly Lazy&lt;IEnumerable&lt;MyDependentService&gt;&gt; _dependentServices;

    public MyService(IServiceProvider serviceProvider)
    {
        _dependentServices = serviceProvider.GetHostedServiceCollectionOfTypeLazy&lt;MyDependentService&gt;();
    }

    protected override async Task ExecuteAsync(CancellationToken stoppingToken)
    {
        while (!stoppingToken.IsCancellationRequested)
        {
            // The dependent services are resolved here, when first needed, avoiding race conditions.
            foreach(var service in _dependentServices.Value)
            {
                // Interact with the service
            }
        }
    }
}</code></pre>


</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/carsten-riedel/Coree.NETStandard/new/master/apiSpec/new?filename=Coree_NETStandard_HostedServicesCollection_ServiceProviderExtensions.md&amp;value=---%0Auid%3A%20Coree.NETStandard.HostedServicesCollection.ServiceProviderExtensions%0Asummary%3A%20&#39;*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax&#39;%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Edit this page</a>
                  </li>
                  <li>
                    <a href="https://github.com/carsten-riedel/Coree.NETStandard/blob/master/src/Projects/Coree.NETStandard/HostedServicesCollection/ServiceProviderExtensions.cs/#L17" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      <pre></pre>
      
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
